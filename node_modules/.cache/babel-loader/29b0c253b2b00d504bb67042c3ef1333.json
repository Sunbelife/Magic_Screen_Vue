{"remainingRequest":"/Users/sunbelife/Desktop/raspberry_magic_screen/magic_screen_front/node_modules/babel-loader/lib/index.js!/Users/sunbelife/Desktop/raspberry_magic_screen/magic_screen_front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sunbelife/Desktop/raspberry_magic_screen/magic_screen_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunbelife/Desktop/raspberry_magic_screen/magic_screen_front/src/templates/Manage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sunbelife/Desktop/raspberry_magic_screen/magic_screen_front/src/templates/Manage.vue","mtime":1567855221066},{"path":"/Users/sunbelife/Desktop/raspberry_magic_screen/magic_screen_front/node_modules/cache-loader/dist/cjs.js","mtime":1567478406959},{"path":"/Users/sunbelife/Desktop/raspberry_magic_screen/magic_screen_front/node_modules/babel-loader/lib/index.js","mtime":1567478391825},{"path":"/Users/sunbelife/Desktop/raspberry_magic_screen/magic_screen_front/node_modules/cache-loader/dist/cjs.js","mtime":1567478406959},{"path":"/Users/sunbelife/Desktop/raspberry_magic_screen/magic_screen_front/node_modules/vue-loader/lib/index.js","mtime":1567478408110}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"Manage\",\n  data: function data() {\n    return {\n      data: [],\n      api: process.env.VUE_APP_API_URL,\n      ModalText: '在这里修改你想设置的图片名称',\n      visible: false,\n      confirmLoading: false,\n      currentName: \"default\",\n      styleobj: {\n        height: \"10px\"\n      }\n    };\n  },\n  beforeCreate: function beforeCreate() {\n    var _this = this;\n\n    this.$http.get('/Pics/get_all_pics').then(function (response) {\n      _this.data = response;\n      console.log(response.status);\n    });\n  },\n  methods: {\n    edit_card: function edit_card(id, name) {\n      this.visible = true;\n      this.currentName = name;\n    },\n    handleOk: function handleOk(id) {\n      var _this2 = this;\n\n      console.log(id);\n      this.ModalText = '在这里输入你想设置的图片名称：';\n      this.confirmLoading = true;\n      setTimeout(function () {\n        _this2.visible = false;\n        _this2.confirmLoading = false;\n\n        _this2.$http.get('/Pics/edit_pic?id=' + id + \"&name=\" + _this2.currentName).then(function (response) {\n          _this2.data = response;\n          console.log(response.status);\n\n          _this2.$http.get('/Pics/get_all_pics').then(function (response) {\n            _this2.data = response;\n            console.log(response.status);\n          });\n        });\n      }, 2000);\n    },\n    handleCancel: function handleCancel(e) {\n      var _this3 = this;\n\n      this.$http.get('/Pics/get_all_pics').then(function (response) {\n        _this3.data = response;\n        console.log(response.status);\n      });\n      this.visible = false;\n    },\n    delete_card: function delete_card(e) {\n      var _this4 = this;\n\n      this.$http.get('/Pics/delete_one_pic?id=' + e).then(function (response) {\n        _this4.data = response;\n        console.log(response.status);\n\n        _this4.$http.get('/Pics/get_all_pics').then(function (response) {\n          _this4.data = response;\n          console.log(response.status);\n        });\n      });\n    },\n    info: function info() {\n      this.$message.info('Build For TechMan By Sunbelife');\n    },\n    handleChange: function handleChange(info) {\n      var _this5 = this;\n\n      var status = info.file.status;\n\n      if (status !== 'uploading') {\n        console.log(info.file, info.fileList);\n      }\n\n      if (status === 'done') {\n        this.$http.get('/Pics/get_all_pics').then(function (response) {\n          _this5.data = response;\n          console.log(response.status);\n        });\n        this.$message.success(\"\".concat(info.file.name, \" \\u6587\\u4EF6\\u4E0A\\u4F20\\u5B8C\\u6BD5\\u3002\"));\n      } else if (status === 'error') {\n        this.$message.error(\"\".concat(info.file.name, \" \\u6587\\u4EF6\\u4E0A\\u4F20\\u5931\\u8D25\\u3002\"));\n      }\n    },\n    go_to_show: function go_to_show() {\n      this.$router.push({\n        path: '/show'\n      });\n    }\n  }\n};",{"version":3,"sources":["Manage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div id=\"content\">\n        <h1>Magic Screen 管理</h1>\n        <a-list\n                :grid=\"{ gutter: 6, column: 3 }\"\n                :dataSource=\"data\"\n        >\n            <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n                <a-card :headStyle=\"styleobj\">\n                    <img\n                            alt=\"example\"\n                            :src=\"api + item.pic_dir\"\n                            slot=\"cover\"\n                    />\n                    <template class=\"ant-card-actions\" slot=\"actions\">\n                        <a-icon type=\"edit\" @click=\"edit_card(item.id, item.pic_name)\"/>\n                        <a-icon type=\"delete\" @click=\"delete_card(item.id)\" />\n                    </template>\n                    <a-card-meta\n                            :title=\"item.pic_name\">\n                    </a-card-meta>\n                    <a-modal\n                            title=\"编辑图片\"\n                            :visible=\"visible\"\n                            @ok=\"handleOk(item.id)\"\n                            :confirmLoading=\"confirmLoading\"\n                            @cancel=\"handleCancel\"\n                            :centered=\"true\"\n                            cancelText=\"取消修改\"\n                            okText=\"确认修改\"\n                    >\n                        <p><a-icon type=\"edit\" /> {{ModalText}}</p>\n                        <a-input :placeholder=\"currentName\" v-model=\"currentName\"/>\n                    </a-modal>\n                </a-card>\n            </a-list-item>\n        </a-list>\n        <a-upload-dragger id=\"upload_file\" name=\"file\" :multiple=\"true\" :action=\"api + '/Pics/upload_pic'\" @change=\"handleChange\">\n            <p class=\"ant-upload-drag-icon\">\n                <a-icon type=\"inbox\" />\n            </p>\n            <p class=\"ant-upload-text\">点击此处或拖动文件到这里来上传</p>\n            <p class=\"ant-upload-hint\">一次一个或者多个文件都可以</p>\n        </a-upload-dragger>\n        <a-button-group id=\"btn_grp\">\n            <a-button type=\"primary\" @click=\"go_to_show\" >开始展示</a-button>\n            <a-button type=\"primary\" @click=\"info\" ><a-icon type=\"info\" /></a-button>\n        </a-button-group>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Manage\",\n        data () {\n            return {\n                data: [],\n                api: process.env.VUE_APP_API_URL,\n                ModalText: '在这里修改你想设置的图片名称',\n                visible: false,\n                confirmLoading: false,\n                currentName: \"default\",\n                styleobj :{\n                    height: \"10px\",\n                },\n            }\n        },\n        beforeCreate () {\n            this.$http.get('/Pics/get_all_pics')\n                .then((response) => {\n                    this.data = response\n                    console.log(response.status)\n                })\n        },\n        methods: {\n            edit_card(id, name) {\n                this.visible = true;\n                this.currentName = name;\n            },\n            handleOk(id) {\n                console.log(id)\n                this.ModalText = '在这里输入你想设置的图片名称：';\n                this.confirmLoading = true;\n                setTimeout(() => {\n                    this.visible = false;\n                    this.confirmLoading = false;\n                    this.$http.get('/Pics/edit_pic?id=' + id + \"&name=\" + this.currentName)\n                        .then((response) => {\n                            this.data = response\n                            console.log(response.status)\n                            this.$http.get('/Pics/get_all_pics')\n                                .then((response) => {\n                                    this.data = response\n                                    console.log(response.status)\n                                })\n                        })\n                }, 2000);\n            },\n            handleCancel(e) {\n                this.$http.get('/Pics/get_all_pics')\n                    .then((response) => {\n                        this.data = response\n                        console.log(response.status)\n                    })\n                this.visible = false\n            },\n            delete_card(e) {\n                this.$http.get('/Pics/delete_one_pic?id=' + e)\n                    .then((response) => {\n                        this.data = response\n                        console.log(response.status)\n                        this.$http.get('/Pics/get_all_pics')\n                            .then((response) => {\n                                this.data = response\n                                console.log(response.status)\n                            })\n                    })\n            },\n            info () {\n                this.$message.info('Build For TechMan By Sunbelife');\n            },\n            handleChange(info) {\n                const status = info.file.status;\n                if (status !== 'uploading') {\n                    console.log(info.file, info.fileList);\n                }\n                if (status === 'done') {\n                    this.$http.get('/Pics/get_all_pics')\n                        .then((response) => {\n                            this.data = response\n                            console.log(response.status)\n                        })\n                    this.$message.success(`${info.file.name} 文件上传完毕。`);\n                } else if (status === 'error') {\n                    this.$message.error(`${info.file.name} 文件上传失败。`);\n                }\n            },\n            go_to_show(){\n                this.$router.push({path:'/show'})\n            }\n        },\n    }\n</script>\n\n<style scoped>\n    #content {\n        width: 80%;\n        margin: 0 auto;\n    }\n    .ant-card-hoverable:hover {\n        -webkit-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);\n        box-shadow: 0 10px 10px rgba(0, 0, 0, 0.16);\n        border-color: rgba(0, 0, 0, 0.09);\n    }\n    #btn_grp {\n        padding-top: 50px;\n    }\n    #upload_file {\n        padding-top: 100px;\n    }\n</style>"],"sourceRoot":"src/templates"}]}