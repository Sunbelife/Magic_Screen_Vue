{"remainingRequest":"/Users/sunbelife/Desktop/Magic_Screen_Vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sunbelife/Desktop/Magic_Screen_Vue/src/templates/Manage.vue?vue&type=style&index=0&id=12852774&scoped=true&lang=css&","dependencies":[{"path":"/Users/sunbelife/Desktop/Magic_Screen_Vue/src/templates/Manage.vue","mtime":1568452294718},{"path":"/Users/sunbelife/Desktop/Magic_Screen_Vue/node_modules/css-loader/index.js","mtime":1567478407587},{"path":"/Users/sunbelife/Desktop/Magic_Screen_Vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1567478408110},{"path":"/Users/sunbelife/Desktop/Magic_Screen_Vue/node_modules/postcss-loader/src/index.js","mtime":1567478408035},{"path":"/Users/sunbelife/Desktop/Magic_Screen_Vue/node_modules/cache-loader/dist/cjs.js","mtime":1567478406959},{"path":"/Users/sunbelife/Desktop/Magic_Screen_Vue/node_modules/vue-loader/lib/index.js","mtime":1567478408110}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#content {\n    width: 80%;\n    margin: 0 auto;\n    padding-top: 50px;\n}\n.ant-card-hoverable:hover {\n    -webkit-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);\n    box-shadow: 0 10px 10px rgba(0, 0, 0, 0.16);\n    border-color: rgba(0, 0, 0, 0.09);\n}\n#btn_grp {\n    padding-top: 50px;\n}\n#upload_file {\n    padding-top: 100px;\n}\n",{"version":3,"sources":["Manage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Manage.vue","sourceRoot":"src/templates","sourcesContent":["<template>\n    <div id=\"content\">\n        <h1>Magic Screen 管理</h1>\n        <a-list\n                :grid=\"{ gutter: 6, column: 3 }\"\n                :dataSource=\"data\"\n        >\n            <a-list-item slot=\"renderItem\" slot-scope=\"item\">\n                <a-card :bodyStyle=\"styleobj\" :hoverable=\"true\">\n                    <img\n                            alt=\"example\"\n                            :src=\"api + item.pic_thumb\"\n                            slot=\"cover\"\n                    />\n                    <template class=\"ant-card-actions\" slot=\"actions\">\n                        <a-icon type=\"edit\" @click=\"edit_card(item.id, item.pic_name)\"/>\n                        <a-icon type=\"delete\" @click=\"delete_card(item.id)\" />\n                    </template>\n                    <a-card-meta\n                            :title=\"item.pic_name\">\n                    </a-card-meta>\n                    <a-modal\n                            title=\"编辑图片\"\n                            :visible=\"visible\"\n                            @ok=\"handleOk(item.id)\"\n                            :confirmLoading=\"confirmLoading\"\n                            @cancel=\"handleCancel\"\n                            :centered=\"true\"\n                            cancelText=\"取消修改\"\n                            okText=\"确认修改\"\n                    >\n                        <p><a-icon type=\"edit\" /> {{ModalText}}</p>\n                        <a-input :placeholder=\"currentName\" v-model=\"currentName\"/>\n                    </a-modal>\n                </a-card>\n            </a-list-item>\n        </a-list>\n        <a-upload-dragger id=\"upload_file\" name=\"file\" :multiple=\"true\" :action=\"api + '/Pics/upload_pic'\" @change=\"handleChange\">\n            <p class=\"ant-upload-drag-icon\">\n                <a-icon type=\"inbox\" />\n            </p>\n            <p class=\"ant-upload-text\">点击此处或拖动文件到这里来上传</p>\n            <p class=\"ant-upload-hint\">一次一个或者多个文件都可以</p>\n        </a-upload-dragger>\n        <a-button-group id=\"btn_grp\">\n            <a-button type=\"primary\" @click=\"go_to_show\" >开始展示</a-button>\n            <a-button type=\"primary\" @click=\"info\" ><a-icon type=\"info\" /></a-button>\n        </a-button-group>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Manage\",\n        data () {\n            return {\n                data: [],\n                // api: process.env.VUE_APP_API_URL,\n                api: \"http://localhost:82/\",\n                ModalText: '在这里修改你想设置的图片名称',\n                visible: false,\n                confirmLoading: false,\n                currentName: \"default\",\n                styleobj :{\n                    height: \"100%\",\n                    padding: \"15px\",\n                    fontsize: \"10px\",\n                },\n            }\n        },\n        beforeCreate () {\n            this.$http.get('/Pics/get_all_pics')\n                .then((response) => {\n                    this.data = response\n                    console.log(response.status)\n                    console.log(this.data)\n                })\n        },\n        methods: {\n            edit_card(id, name) {\n                this.visible = true;\n                this.currentName = name;\n            },\n            handleOk(id) {\n                console.log(id)\n                this.ModalText = '在这里输入你想设置的图片名称：';\n                this.confirmLoading = true;\n                setTimeout(() => {\n                    this.visible = false;\n                    this.confirmLoading = false;\n                    this.$http.get('/Pics/edit_pic?id=' + id + \"&name=\" + this.currentName)\n                        .then((response) => {\n                            this.data = response\n                            console.log(response.status)\n                            this.$http.get('/Pics/get_all_pics')\n                                .then((response) => {\n                                    this.data = response\n                                    console.log(response.status)\n                                })\n                        })\n                }, 2000);\n            },\n            handleCancel(e) {\n                this.$http.get('/Pics/get_all_pics')\n                    .then((response) => {\n                        this.data = response\n                        console.log(response.status)\n                    })\n                this.visible = false\n            },\n            delete_card(e) {\n                this.$http.get('/Pics/delete_one_pic?id=' + e)\n                    .then((response) => {\n                        this.data = response\n                        console.log(response.status)\n                        this.$http.get('/Pics/get_all_pics')\n                            .then((response) => {\n                                this.data = response\n                                console.log(response.status)\n                            })\n                    })\n            },\n            info () {\n                this.$message.info('Build For TechMan By Sunbelife');\n            },\n            handleChange(info) {\n                const status = info.file.status;\n                if (status !== 'uploading') {\n                    console.log(info.file, info.fileList);\n                }\n                if (status === 'done') {\n                    this.$http.get('/Pics/get_all_pics')\n                        .then((response) => {\n                            this.data = response\n                            console.log(response.status)\n                        })\n                    this.$message.success(`${info.file.name} 文件上传完毕。`);\n                } else if (status === 'error') {\n                    this.$message.error(`${info.file.name} 文件上传失败。`);\n                }\n            },\n            go_to_show(){\n                this.$router.push({path:'/HelloWorld'})\n            }\n        },\n    }\n</script>\n\n<style scoped>\n    #content {\n        width: 80%;\n        margin: 0 auto;\n        padding-top: 50px;\n    }\n    .ant-card-hoverable:hover {\n        -webkit-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.09);\n        box-shadow: 0 10px 10px rgba(0, 0, 0, 0.16);\n        border-color: rgba(0, 0, 0, 0.09);\n    }\n    #btn_grp {\n        padding-top: 50px;\n    }\n    #upload_file {\n        padding-top: 100px;\n    }\n</style>"]}]}